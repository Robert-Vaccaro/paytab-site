<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PayTab</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link rel="icon" type="image/x-icon" href="/images/icon.ico">
<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <!-- Top Right Image -->
  <div class="top-right-image">
    <img src="images/pt-image-transparent.png" alt="Logo" width="200" height="50">
  </div>

  <section class="coming-soon">
    <div class="content">
      <h4>Effortless payment at bars & restaurants</h4>
      <h5>Stop waiting to pay your check. Just walk out.</h5>
      <br />
      <p>Coming soon!</p>
      <form id="early-access-form" onsubmit="handleSubmit(event)">
        <input type="email" id="email" placeholder="Enter a valid email address" required>
        <button type="submit">Get Updates</button>
      </form>
      <div id="response-message" class="response-message"></div>
    </div>
  </section>

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
  function handleSubmit(event) {
    event.preventDefault();
    const email = document.getElementById('email').value;
    
    axios.post('https://rocky-everglades-23449-48ef56fc7402.herokuapp.com/users/early-access', { email })
      .then(response => {
        document.getElementById('response-message').textContent = 'Thank you! You have signed up for updates.';
        document.getElementById('response-message').style.color = 'rgba(186, 104, 200, 1)';
        document.getElementById('early-access-form').reset();
      })
      .catch(error => {
        document.getElementById('response-message').textContent = 'There was an issue signing you up. Please try again.';
        document.getElementById('response-message').style.color = 'red';
      });
  }
</script>
</body>
</html>
